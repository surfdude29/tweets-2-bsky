/**
 * Twitter GraphQL API client for posting tweets and replies
 */
import type { TwitterCookies } from './cookies.js';
export type TweetResult = {
    success: true;
    tweetId: string;
} | {
    success: false;
    error: string;
};
export interface UploadMediaResult {
    success: boolean;
    mediaId?: string;
    error?: string;
}
export interface TweetData {
    id: string;
    text: string;
    author: {
        username: string;
        name: string;
    };
    authorId?: string;
    createdAt?: string;
    replyCount?: number;
    retweetCount?: number;
    likeCount?: number;
    conversationId?: string;
    inReplyToStatusId?: string;
}
export interface GetTweetResult {
    success: boolean;
    tweet?: TweetData;
    error?: string;
}
export interface SearchResult {
    success: boolean;
    tweets?: TweetData[];
    error?: string;
}
export interface CurrentUserResult {
    success: boolean;
    user?: {
        id: string;
        username: string;
        name: string;
    };
    error?: string;
}
export interface TwitterClientOptions {
    cookies: TwitterCookies;
    userAgent?: string;
    timeoutMs?: number;
}
export declare class TwitterClient {
    private authToken;
    private ct0;
    private cookieHeader;
    private userAgent;
    private timeoutMs?;
    private clientUuid;
    private clientDeviceId;
    private clientUserId?;
    constructor(options: TwitterClientOptions);
    private getQueryId;
    private refreshQueryIds;
    private getTweetDetailQueryIds;
    private getSearchTimelineQueryIds;
    private fetchWithTimeout;
    private findTweetInInstructions;
    private getHeaders;
    private createTransactionId;
    private getBaseHeaders;
    private getJsonHeaders;
    private getUploadHeaders;
    private mediaCategoryForMime;
    private sleep;
    uploadMedia(input: {
        data: Uint8Array;
        mimeType: string;
        alt?: string;
    }): Promise<UploadMediaResult>;
    private firstText;
    private collectTextFields;
    private uniqueOrdered;
    private extractArticleText;
    private extractNoteTweetText;
    private extractTweetText;
    private mapTweetResult;
    private collectTweetResultsFromEntry;
    private parseTweetsFromInstructions;
    private buildArticleFeatures;
    private buildTweetDetailFeatures;
    private buildArticleFieldToggles;
    private buildSearchFeatures;
    private fetchUserArticlePlainText;
    private fetchTweetDetail;
    /**
     * Get tweet details by ID
     */
    getTweet(tweetId: string): Promise<GetTweetResult>;
    /**
     * Post a new tweet
     */
    tweet(text: string, mediaIds?: string[]): Promise<TweetResult>;
    /**
     * Reply to an existing tweet
     */
    reply(text: string, replyToTweetId: string, mediaIds?: string[]): Promise<TweetResult>;
    private createTweet;
    private formatErrors;
    private statusUpdateInputFromCreateTweetVariables;
    private postStatusUpdate;
    private tryStatusUpdateFallback;
    private ensureClientUserId;
    /**
     * Search for tweets matching a query
     */
    search(query: string, count?: number): Promise<SearchResult>;
    /**
     * Fetch the account associated with the current cookies
     */
    getCurrentUser(): Promise<CurrentUserResult>;
    /**
     * Get replies to a tweet by ID
     */
    getReplies(tweetId: string): Promise<SearchResult>;
    /**
     * Get full conversation thread for a tweet ID
     */
    getThread(tweetId: string): Promise<SearchResult>;
}
//# sourceMappingURL=twitter-client.d.ts.map